@using System;
@using System.Collections.Generic;
@using System.Linq;
@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct;

@namespace Home

<root onclick="@OnClick">
    <label @ref="TextLabel" class="name" text=@Layout />
</root>

@code
{
    public static List<RoomLayoutButton> All = new List<RoomLayoutButton>();

    public string Layout { get; set; }
    public Label TextLabel { get; set;}

    public RoomLayoutButton()
    {
        All.Add(this);
    }

    ~RoomLayoutButton()
    {
        All.Remove(this);
    }

    public void OnClick(PanelEvent e)
    {
        foreach (var button in All)
        {
            button.RemoveClass("selected");
        }
        AddClass("selected");
    }

    protected override int BuildHash()
    {
        return HashCode.Combine(Layout);
    }
}