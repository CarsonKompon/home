@using System;
@using System.Collections.Generic;
@using System.Linq;
@using Sandbox;
@using Sandbox.UI;
@using Sandbox.UI.Construct;

@namespace Home

<root onclick="@OnClick">
    <label class="name" text=@GetName() />
</root>

@code
{
    public static List<RoomLayoutButton> All = new List<RoomLayoutButton>();

    public RoomLayout Layout { get; set; }

    public RoomLayoutButton()
    {
        All.Add(this);
    }

    ~RoomLayoutButton()
    {
        All.Remove(this);
    }

    public string GetName()
    {
        return "Layout #1";
    }

    public void OnClick(PanelEvent e)
    {
        foreach (var button in All)
        {
            button.RemoveClass("selected");
        }
        AddClass("selected");
    }

    protected override int BuildHash()
    {
        return HashCode.Combine(GetName());
    }
}